<div class="min-h-screen bg-[#FFF7EB] px-4 md:px-16 py-6 max-w-5xl mx-auto">

  <!-- Retour -->
  <button routerLink="/services" class="text-sm text-gray-600 hover:text-black mb-5 flex items-center gap-1">
    ‚Üê Retour
  </button>

  <div class="grid md:grid-cols-2 gap-8">

    <!-- GALERIE -->
    <div class="relative select-none">

      <img
        [src]="gallery[currentIndex]"
        class="w-full h-[42vh] md:h-[55vh] rounded-2xl object-cover shadow-md"
      />

      <!-- Fl√®che gauche -->
      <button (click)="prev()"
        class="absolute top-1/2 left-2 -translate-y-1/2 bg-black/40 hover:bg-black/60 text-white 
        rounded-full w-8 h-8 flex items-center justify-center transition">
        ‚Üê
      </button>

      <!-- Fl√®che droite -->
      <button (click)="next()"
        class="absolute top-1/2 right-2 -translate-y-1/2 bg-black/40 hover:bg-black/60 text-white 
        rounded-full w-8 h-8 flex items-center justify-center transition">
        ‚Üí
      </button>

      <!-- Miniatures -->
      <div class="flex gap-2 mt-3 overflow-x-auto">
        <img *ngFor="let img of gallery; let i = index"
             [src]="img"
             (click)="currentIndex = i"
             class="h-16 w-16 rounded-xl object-cover border cursor-pointer hover:opacity-80 transition"
             [class.ring-2]="currentIndex === i"
             [class.ring-[#FF7A00]]="currentIndex === i"
        />
      </div>

    </div>

    <!-- INFORMATIONS -->
    <div class="bg-white rounded-2xl shadow-sm border p-6">

      <h1 class="text-2xl font-bold text-[#1A1A1A]">{{ service.title }}</h1>
      <p class="text-gray-500 text-sm mt-1">{{ service.category }} ‚Ä¢ {{ service.city }}</p>

      <p class="mt-4 text-[#FF7A00] font-semibold text-3xl">
        {{ service.price | number:'1.0-0' }} FCFA
      </p>

      <div *ngIf="owner; else ownerFallback"
           class="mt-6 border border-[#FFE0BF] rounded-2xl p-4 bg-[#FFF9F2]">
        <p class="text-xs uppercase tracking-widest text-[#FFB066]">Prestataire</p>
        <p class="text-lg font-semibold text-[#1A1A1A] mt-1">
          {{ owner.firstname || 'Pr√©nom inconnu' }} {{ owner.lastname || '' }}
        </p>
        <p class="text-sm text-gray-600 mt-2 flex items-center gap-2">
          <span>üìç</span> {{ owner.city || 'Ville non renseign√©e' }}
        </p>
        <p class="text-sm text-gray-600 flex items-center gap-2">
          <span>üè†</span> {{ owner.address || 'Adresse non renseign√©e' }}
        </p>
      </div>
      <ng-template #ownerFallback>
        <div class="mt-6 text-sm text-gray-500">
          Informations sur le propri√©taire indisponibles.
        </div>
      </ng-template>

      <!-- Boutons -->
      <div class="mt-6 space-y-3">
        <a [href]="whatsapp()" target="_blank"
           class="block w-full text-center px-4 py-3 bg-[#3BAF4A] hover:bg-[#2f8f3c] text-white rounded-xl font-semibold transition">
          Contacter sur WhatsApp
        </a>

        <button (click)="call()"
           class="w-full px-4 py-3 bg-slate-400 hover:bg-blue-700 text-white rounded-xl font-semibold transition">
          Appeler
        </button>
      </div>

      <p *ngIf="service?.createdAt" class="text-xs text-gray-500 mt-4">
  Publi√© {{ service.createdAt | timeAgo }}

</p>

    </div>

  </div>

  <!-- DESCRIPTION -->
  <div class="mt-10">
    <h2 class="text-lg font-semibold text-[#1A1A1A] mb-2">Description</h2>
    <p class="text-gray-700 leading-relaxed whitespace-pre-line">{{ service.description }}</p>
  </div>

</div>
